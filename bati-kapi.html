<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BatÄ± KapÄ± (Tekstil KapÄ±) â€” DivriÄŸi Ulu Camii ve DarÃ¼ÅŸÅŸifasÄ±</title>

  <style>
    :root{ --bg:#ffffff;--panel:#ffffff;--text:#111827;--muted:#4b5563;--accent:#1d4ed8;--border:#e5e7eb; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--text);background:var(--bg);}
    a{color:var(--accent);text-decoration:none}
    header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.95);backdrop-filter:saturate(120%) blur(6px);border-bottom:1px solid var(--border)}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .row{display:flex;gap:16px;flex-wrap:wrap;align-items:center}
    .title{font-size:clamp(24px,3.6vw,40px);font-weight:800;line-height:1.1;margin:0}
    .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}
    h2{font-size:clamp(18px,2.6vw,28px);margin:0 0 8px}
    p{line-height:1.7;margin:0}
    .grid{display:grid;gap:14px}
    @media(min-width:760px){.grid.cols-2{grid-template-columns:1fr 1fr}.grid.cols-3{grid-template-columns:repeat(3,1fr)}}
    figure{margin:0;border-radius:14px;overflow:hidden;border:1px solid var(--border);background:#fff}
    figure img{width:100%;display:block;height:240px;object-fit:cover}
    figcaption{font-size:12px;color:#334155;padding:8px 10px;background:#f8fafc;border-top:1px solid var(--border)}
    .footer{padding:24px 16px;color:#334155;border-top:1px solid var(--border)}
    .back{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:#f8fafc}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 0}
    button{background:#f3f4f6;color:var(--text);border:1px solid var(--border);border-radius:12px;padding:10px 12px;cursor:pointer}
    button:hover{background:#e5e7eb}
    .muted{color:var(--muted)}
  </style>
</head>

<body>
<header>
  <div class="wrap row">
    <a class="back" href="../index.html">â† Geri / Back</a>
  </div>
  <div class="wrap">
    <h1 class="title">BatÄ± KapÄ± (Tekstil KapÄ±)</h1>
    <p class="muted" style="margin-top:8px">
      TR/EN aÃ§Ä±klamalar ve gÃ¶rseller.
    </p>
  </div>
</header>

<main class="wrap">
  <!-- Metinler -->
  <section class="grid cols-2" style="padding:16px 0">
    <div class="card">
      <h2>TR</h2>
      <p id="text-tr">
        Tekstil KapÄ± olarak da anÄ±lan BatÄ± KapÄ±, kilim/seccade dokusunu andÄ±ran ince taÅŸ iÅŸlemeciliÄŸinin zirvesidir.
        DÄ±ÅŸa taÅŸan kilit taÅŸÄ±, lale motifleri ile Ã§ift baÅŸlÄ± kartal ve ÅŸahin figÃ¼rleri dikkat Ã§eker; ikindi vaktine
        yakÄ±n oluÅŸan Ä±ÅŸÄ±k-gÃ¶lge siluetiyle Ã¼nlÃ¼dÃ¼r.
      </p>

      <!-- SADECE burada dinleme -->
      <div class="controls">
        <button type="button" onclick="speak('#text-tr','tr-TR')">ğŸ”Š Dinle (TR)</button>
        <button type="button" onclick="st0()">â¹ï¸ Durdur</button>
      </div>
    </div>

    <div class="card">
      <h2>EN</h2>
      <p id="text-en">
        Also called the â€œTextileâ€ Portal, the west gate represents the pinnacle of fine stonework, resembling a woven
        kilim or prayer rug. A protruding keystone, tulip motifs, and the double-headed eagle and hawk figures stand out.
        It is famous for a late-afternoon light-and-shadow silhouette that appears like a praying man.
      </p>

      <!-- SADECE burada dinleme -->
      <div class="controls">
        <button type="button" onclick="speak('#text-en','en-US')">ğŸ”Š Listen (EN)</button>
        <button type="button" onclick="st0()">â¹ï¸ Stop</button>
      </div>
    </div>
  </section>

  <!-- GÃ¶rseller (SES YOK) -->
  <section style="padding:16px 0">
    <h2>GÃ¶rseller</h2>

    <div class="grid cols-3" id="gallery">
      <figure>
        <!-- Repo kÃ¶kÃ¼nde bati_kapi.png var, sayfalar/ iÃ§inden eriÅŸim: ../bati_kapi.png -->
        <img alt="BatÄ± KapÄ± (Tekstil KapÄ±)" src="../bati_kapi.png" loading="lazy" onerror="imgFail(this)">
        <figcaption>BatÄ± KapÄ± (Tekstil KapÄ±)</figcaption>
      </figure>

      <!-- EÄŸer bu iki dosya sizde yoksa, Ä°KÄ° SEÃ‡ENEK:
           1) Bu img tag'lerini silin
           2) DosyalarÄ± repoya ekleyin (Ã¶rn. bk-1.jpg, bk-2.jpg) ve src'yi ona gÃ¶re dÃ¼zeltin
      -->
      <figure>
        <img alt="BatÄ± KapÄ± detayÄ±" src="../bk-1.jpg" loading="lazy" onerror="imgFail(this)">
        <figcaption>Detay 1</figcaption>
      </figure>

      <figure>
        <img alt="BatÄ± KapÄ± detayÄ±" src="../bk-2.jpg" loading="lazy" onerror="imgFail(this)">
        <figcaption>Detay 2</figcaption>
      </figure>
    </div>

    <p class="muted" style="margin-top:10px">
      Not: KÄ±rÄ±k gÃ¶rsel olursa dosya adÄ±/uzantÄ±sÄ± veya bÃ¼yÃ¼k-kÃ¼Ã§Ã¼k harf uyuÅŸmazlÄ±ÄŸÄ± vardÄ±r. Consoleâ€™da hangi dosyanÄ±n bulunamadÄ±ÄŸÄ± yazacaktÄ±r.
    </p>
  </section>
</main>

<footer class="footer wrap">
  <div>Â© <span id="y"></span> DivriÄŸi Ulu Camii ve DarÃ¼ÅŸÅŸifasÄ±</div>
</footer>

<script>
(function(){
  // YÄ±l
  var y = document.getElementById('y');
  if (y) y.textContent = new Date().getFullYear();

  function st0(){
    if ('speechSynthesis' in window) window.speechSynthesis.cancel();
  }

  function speak(selector, lang){
    st0();
    if (!('speechSynthesis' in window)) return;

    var el = document.querySelector(selector);
    if (!el) {
      console.warn('TTS: Element bulunamadÄ±:', selector);
      return;
    }

    var text = (el.innerText || el.textContent || '').trim();
    if (!text) {
      console.warn('TTS: Metin boÅŸ:', selector);
      return;
    }

    // BazÄ± tarayÄ±cÄ±larda ses listesi ilk Ã§aÄŸrÄ±da uyanmayabilir
    try { window.speechSynthesis.getVoices(); } catch(e){}

    var u = new SpeechSynthesisUtterance(text);
    u.lang = lang;
    u.rate = 1;
    u.pitch = 1;
    window.speechSynthesis.speak(u);
  }

  function imgFail(img){
    console.error('GÃ¶rsel yÃ¼klenemedi:', img.getAttribute('src'));
  }

  window.st0 = st0;
  window.speak = speak;
  window.imgFail = imgFail;

  ['pagehide','beforeunload','visibilitychange'].forEach(function(evt){
    window.addEventListener(evt, function(){
      if (evt === 'visibilitychange' && !document.hidden) return;
      st0();
    });
  });
})();
</script>
</body>
</html>
