<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DarÃ¼ÅŸÅŸifa â€” DivriÄŸi Ulu Camii ve DarÃ¼ÅŸÅŸifasÄ±</title>

  <style>
    :root{ --bg:#ffffff;--panel:#ffffff;--text:#111827;--muted:#4b5563;--accent:#1d4ed8;--border:#e5e7eb; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--text);background:var(--bg);}
    a{color:var(--accent);text-decoration:none}
    header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.95);backdrop-filter:saturate(120%) blur(6px);border-bottom:1px solid var(--border)}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .row{display:flex;gap:16px;flex-wrap:wrap;align-items:center}
    .title{font-size:clamp(24px,3.6vw,40px);font-weight:800;line-height:1.1;margin:0}
    .muted{color:var(--muted)}
    .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}
    h2{font-size:clamp(18px,2.6vw,28px);margin:0 0 8px}
    p{line-height:1.7;margin:0}
    .grid{display:grid;gap:14px}
    @media(min-width:760px){.grid.cols-2{grid-template-columns:1fr 1fr}.grid.cols-3{grid-template-columns:repeat(3,1fr)}}
    figure{margin:0;border-radius:14px;overflow:hidden;border:1px solid var(--border);background:#fff}
    figure img{width:100%;display:block;height:240px;object-fit:cover}
    figcaption{font-size:12px;color:#334155;padding:8px 10px;background:#f8fafc;border-top:1px solid var(--border)}
    .footer{padding:24px 16px;color:#334155;border-top:1px solid var(--border)}
    .back{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:#f8fafc}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 0}
    button{background:#f3f4f6;color:var(--text);border:1px solid var(--border);border-radius:12px;padding:10px 12px;cursor:pointer}
    button:hover{background:#e5e7eb}
  </style>
</head>

<body>
<header>
  <div class="wrap row">
    <a class="back" href="../index.html">â† Geri / Back</a>
  </div>

  <div class="wrap">
    <h1 class="title">DarÃ¼ÅŸÅŸifa</h1>
    <p class="muted" style="margin-top:8px">TR/EN aÃ§Ä±klamalar ve gÃ¶rseller.</p>
  </div>
</header>

<main class="wrap">
  <!-- Metinler -->
  <section class="grid cols-2" style="padding:16px 0">
    <div class="card">
      <h2>TR</h2>
      <p id="text-tr">
        DarÃ¼ÅŸÅŸifa, kapalÄ± avlulu Ã¼Ã§ eyvanlÄ± planÄ±yla tanÄ±nÄ±r. Akustik dÃ¼zenlemeler, su sesi,
        Kurâ€™an tilaveti ve musiki ruh ve sinir hastalÄ±klarÄ±nÄ±n tedavisinde kullanÄ±lmÄ±ÅŸ;
        taÃ§ kapÄ±da yÄ±ldÄ±z-hilal motifleri ve denge sÃ¼tunu dikkat Ã§eker.
      </p>

      <!-- SADECE burada dinleme -->
      <div class="controls">
        <button type="button" onclick="speak('#text-tr','tr-TR')">ğŸ”Š Dinle (TR)</button>
        <button type="button" onclick="st0()">â¹ï¸ Durdur</button>
      </div>
    </div>

    <div class="card">
      <h2>EN</h2>
      <p id="text-en">
        The hospital is a closed-courtyard, three-iwan building. It is renowned for therapeutic use of acoustics,
        Qurâ€™an recitation, devotional music and the sound of flowing water. Its magnificent portal features stars
        and crescents and a balance column; the design reflects precise engineering and refined Seljuk aesthetics.
      </p>

      <!-- SADECE burada dinleme -->
      <div class="controls">
        <button type="button" onclick="speak('#text-en','en-US')">ğŸ”Š Listen (EN)</button>
        <button type="button" onclick="st0()">â¹ï¸ Stop</button>
      </div>
    </div>
  </section>

  <!-- GÃ¶rseller (SES YOK) -->
  <section style="padding:16px 0">
    <h2>GÃ¶rseller</h2>

    <div class="grid cols-3" id="gallery">
      <figure>
        <!-- kÃ¶kte: darussifa.png -->
        <img alt="DarÃ¼ÅŸÅŸifa TaÃ§ KapÄ±" src="../darussifa.png" loading="lazy" onerror="imgFail(this)">
        <figcaption>DarÃ¼ÅŸÅŸifa TaÃ§ KapÄ±</figcaption>
      </figure>

      <figure>
        <!-- kÃ¶kte sizde: darussifa_ic_location.png -->
        <img alt="DarÃ¼ÅŸÅŸifa Ä°Ã§ MekÃ¢n" src="../darussifa_ic_location.png" loading="lazy" onerror="imgFail(this)">
        <figcaption>DarÃ¼ÅŸÅŸifa Ä°Ã§ MekÃ¢n</figcaption>
      </figure>

      <figure>
        <!-- kÃ¶kte: darussifa_sah_kapi.png -->
        <img alt="DarÃ¼ÅŸÅŸifa â€“ Åah KapÄ±sÄ± detayÄ±" src="../darussifa_sah_kapi.png" loading="lazy" onerror="imgFail(this)">
        <figcaption>DarÃ¼ÅŸÅŸifa â€“ Åah KapÄ±sÄ± detayÄ±</figcaption>
      </figure>
    </div>

    <p class="muted" style="margin-top:10px">
      Not: GÃ¶rsel gÃ¶rÃ¼nmezse dosya adÄ±/uzantÄ±sÄ± veya bÃ¼yÃ¼k-kÃ¼Ã§Ã¼k harf uyuÅŸmazlÄ±ÄŸÄ± vardÄ±r. Consoleâ€™da hangi dosyanÄ±n yÃ¼klenemediÄŸi yazacaktÄ±r.
    </p>
  </section>
</main>

<footer class="footer wrap">
  <div>Â© <span id="y"></span> DivriÄŸi Ulu Camii ve DarÃ¼ÅŸÅŸifasÄ±</div>
</footer>

<script>
(function(){
  var y = document.getElementById('y');
  if (y) y.textContent = new Date().getFullYear();

  function st0(){
    if ('speechSynthesis' in window) window.speechSynthesis.cancel();
  }

  function speak(selector, lang){
    st0();
    if (!('speechSynthesis' in window)) return;

    var el = document.querySelector(selector);
    if (!el) {
      console.warn('TTS: Element bulunamadÄ±:', selector);
      return;
    }

    var text = (el.innerText || el.textContent || '').trim();
    if (!text) {
      console.warn('TTS: Metin boÅŸ:', selector);
      return;
    }

    try { window.speechSynthesis.getVoices(); } catch(e){}

    var u = new SpeechSynthesisUtterance(text);
    u.lang = lang;
    u.rate = 1;
    u.pitch = 1;
    window.speechSynthesis.speak(u);
  }

  function imgFail(img){
    console.error('GÃ¶rsel yÃ¼klenemedi:', img.getAttribute('src'));
  }

  window.st0 = st0;
  window.speak = speak;
  window.imgFail = imgFail;

  ['pagehide','beforeunload','visibilitychange'].forEach(function(evt){
    window.addEventListener(evt, function(){
      if (evt === 'visibilitychange' && !document.hidden) return;
      st0();
    });
  });
})();
</script>
</body>
</html>
