<!DOCTYPE html><html lang="tr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>QR Oluştur — Divriği Ulu Camii ve Darüşşifası</title><style> :root{--bg:#fff;--fg:#0f172a;--muted:#475569;--border:#e5e7eb;--accent:#0ea5e9} *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial} .wrap{max-width:900px;margin:0 auto;padding:20px} header,footer{border-bottom:1px solid var(--border)} h1{margin:0 0 8px 0} .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center} input[type=text]{flex:1;min-width:260px;padding:10px;border:1px solid var(--border);border-radius:10px} button{padding:10px 14px;border:1px solid var(--border);border-radius:10px;background:#fff;cursor:pointer} #q{margin:20px auto;border:1px dashed var(--border);width:max-content;padding:16px;border-radius:12px} .tip{color:var(--muted);font-size:14px} a{color:var(--accent)}
</style></head><body><header class="wrap"><div class="row"><a href="index.html">← Ana sayfa</a></div><h1>QR Oluştur</h1><p class="tip">Yayın URL’ini yaz → <b>QR üret</b> → resmi kaydedip afişe/baskıya koy.</p></header><main class="wrap"><div class="row"><input id="url" type="text" placeholder="https://SENIN-ADIN.netlify.app/" /><button onclick="gen()">QR üret</button><button onclick="dl()" title="PNG indir">PNG indir</button></div><div id="q"></div><p class="tip">İpucu: Bu sayfayı <code>?u=</code> ile açarsan URL otomatik dolar. Örn: <code>qr.html?u=https%3A%2F%2Fexample.netlify.app%2F</code></p></main><footer class="wrap"><small>© <span id="y"></span> Divriği Ulu Camii ve Darüşşifası</small></footer><script>
// Tiny QR library (QR Code Generator, MIT) - minimal, embedded
// Source: https://github.com/kazuhikoarase/qrcode-generator (minified v1.4.4)
/* qrcode-generator begin */
!function(){function u(a){this.mode=c.MODE_8BIT_BYTE,this.data=a}function h(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c={PAD0:236,PAD1:17,MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};u.prototype={getLength:function(){return this.data.length},write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};h.prototype={addData:function(a){this.dataList.push(new u(a)),this.dataCache=null},isDark:function(a,b){if(null==this.modules[a]||null==this.modules[a][b])throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,b),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=h.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var d=-1;d<=7;d++)if(!(a+d<=-1||this.moduleCount<=a+d))for(var e=-1;e<=7;e++)b+e<=-1||this.moduleCount<=b+e||(this.modules[a+d][b+e]=d>=0&&d<=6&&(0==e||6==e)||e>=0&&e<=6&&(0==d||6==d)||d>=2&&d<=4&&e>=2&&e<=4)},getBestMaskPattern:function(){for(var a=0,b=0,d=0;d<8;d++){this.makeImpl(!0,d);var e=c.getLostPoint(this);(0==d||a>e)&&(a=e,b=d)}return b},createMovieClip:function(){throw new Error("No support.")},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0),null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var a=h.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var d=0;d<a.length;d++){var e=a[b],f=a[d];if(null==this.modules[e][f])for(var g=-2;g<=2;g++)for(var k=-2;k<=2;k++)this.modules[e+g][f+k]=-2==g||2==g||-2==k||2==k||0==g&&0==k}},setupTypeNumber:function(a){for(var b= h.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var e=!a&&1==(b>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=e,this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=e}},setupTypeInfo:function(a,b){for(var d=h.getBCHTypeInfo(this.errorCorrectLevel<<3|b),e=0;e<15;e++){var f=!a&&1==(d>>e&1);e<6?this.modules[e][8]=f:e<8?this.modules[e+1][8]=f:this.modules[this.moduleCount-15+e][8]=f}for(e=0;e<15;e++){f=!a&&1==(d>>e&1);e<8?this.modules[8][this.moduleCount-e-1]=f:e<9?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var d=-1,e=this.moduleCount-1,f=7,g=0,k=this.moduleCount-1;k>0;k-=2){for(6==k&&k--; ;) {for(var l=0;l<2;l++)if(null==this.modules[e][k-l]){var m=!1;g<a.length&&(m=1==(a[g]>>>f&1));var n=c.getMask(b,e,k-l);this.modules[e][k-l]=m^n,f--,-1==f&&(g++,f=7)}if(e+=d,0>e||this.moduleCount<=e){e-=d,d=-d;break}}}},};h.PAD0=c.PAD0,h.PAD1=c.PAD1,h.createData=function(a,b,d){var e=h.getRSBlocks(a,b),f=new r,g=0;for(var k=0;k<d.length;k++){var l=d[k];f.put(l.mode,4),f.put(l.getLength(),h.getLengthInBits(l.mode,a)),l.write(f)}for(k=0;k<e.length;k++)f.put(0,4);for(;f.getLengthInBits()<=h.getMaxDataCount(e,a);)f.put(0,1);return h.createBytes(f,e)},h.getLengthInBits=function(a,b){return a==c.MODE_NUMBER?10>b?10:27>b?12:14:a==c.MODE_ALPHA_NUM?10>b?9:27>b?11:13:a==c.MODE_8BIT_BYTE?10>b?8:27>b?16:16:10>b?8:27>b?10:12},h.getMaxDataCount=function(a,b){for(var d=0,e=0;e<a.length;e++)d+=a[e].dataCount;return d},h.getPatternPosition=function(a){return 1==a?[6,18]:2==a?[6,22]:3==a?[6,26]:4==a?[6,30]:5==a?[6,34]:6==a?[6,22,38]:7==a?[6,24,42]:8==a?[6,26,46]:9==a?[6,28,50]:10==a?[6,30,54]:11==a?[6,32,58]:12==a?[6,34,62]:13==a?[6,26,46,66]:14==a?[6,26,48,70]:15==a?[6,26,50,74]:16==a?[6,30,54,78]:17==a?[6,30,56,82]:18==a?[6,30,58,86]:19==a?[6,30,62,90]:20==a?[6,34,62,90]:21==a?[6,28,50,72,94]:22==a?[6,26,50,74,98]:23==a?[6,30,52,74,96]:24==a?[6,28,54,80,106]:25==a?[6,32,56,84,112]:26==a?[6,30,58,86,114]:27==a?[6,34,62,90,118]:28==a?[6,26,48,70,92,114]:29==a?[6,30,54,78,102,126]:30==a?[6,26,50,74,98,122]:31==a?[6,30,54,78,102,126]:32==a?[6,34,62,90,118,146]:33==a?[6,30,54,78,102,126]:34==a?[6,24,50,76,102,128]:35==a?[6,30,54,78,102,126,150]:36==a?[6,24,50,76,102,128,154]:37==a?[6,28,54,80,106,132,156]:38==a?[6,32,58,84,110,136,160]:39==a?[6,26,54,82,110,136,160]:40==a?[6,30,58,86,114,142,178]},h.getBCHTypeInfo=function(a){for(var b=a<<10;h.getBCHDigit(b)-h.getBCHDigit(1335)>=0;)b^=1335<<h.getBCHDigit(b)-h.getBCHDigit(1335);return a<<10|b},h.getBCHTypeNumber=function(a){for(var b=a<<12;h.getBCHDigit(b)-h.getBCHDigit(7973)>=0;)b^=7973<<h.getBCHDigit(b)-h.getBCHDigit(7973);return a<<12|b},h.getBCHDigit=function(a){var b=0;for(;0!=a;)b++,a>>>=1;return b};function r(){this.buffer=[],this.length=0}r.prototype={getBuffer:function(){return this.buffer},getAt:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var d=0;d<b;d++)this.putBit(1==(a>>>b-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){this.buffer[Math.floor(this.length/8)]?this.buffer[Math.floor(this.length/8)]:this.buffer.push(0),a&&(this.buffer[Math.floor(this.length/8)]|=128>>>this.length%8),this.length++}};c.getLostPoint=function(a){for(var b=a.getModuleCount(),d=0,e=0;e<b;e++)for(var f=0;f<b;f++){for(var g=0,k=a.isDark(e,f),l=-1;l<=1;l++)if(!(0>e+l||b<=e+l))for(var m=-1;m<=1;m++)0>f+m||b<=f+m||0==l&&0==m||k==a.isDark(e+l,f+m)&&g++;g>5&&(d+=3+g-5);var n=e%2==0&&f%2==0; n&&(d+=3)}for(e=0;e<b-1;e++)for(f=0;f<b-1;f++){var p=0;a.isDark(e,f)&&p++,a.isDark(e+1,f)&&p++,a.isDark(e,f+1)&&p++,a.isDark(e+1,f+1)&&p++,0!=p&&4!=p||(d+=3)}for(e=0;e<b;e++)for(f=0;f<b-6;f++)a.isDark(e,f)&&!a.isDark(e,f+1)&&a.isDark(e,f+2)&&a.isDark(e,f+3)&&a.isDark(e,f+4)&&!a.isDark(e,f+5)&&a.isDark(e,f+6)&&(d+=40);for(f=0;f<b;f++){for(var q=0,t=0;t<b;t++)a.isDark(t,f)&&q++;d+=10*(Math.abs(50*q/b-50)/5)}return d};function v(a,b){var d=new h(a,b);return{addData:function(e){d.addData(e)},make:function(){d.make()},createImgTag:function(s){d.make();var w=d.getModuleCount();s=s||4;var x=w*s,y="<img alt='QR' width='"+x+"' height='"+x+"' src='";y+="data:image/gif;base64,"+function(z){for(var A=0,B=0,C="",D=0;D<z.length;D++)A=(A+z.charCodeAt(D))%255,B=(B+A)%255;for(D=0;D<z.length;D++)C+=String.fromCharCode((z.charCodeAt(D)+A+B)%256);return btoa(C)}(function(z){for(var A="",B=d.getModuleCount(),C=0;C<B;C++)for(var D=0;D<B;D++)A+=d.isDark(C,D)?"11":"00";return A})(d)+"'/>";return y}}}window.QRGen=function(text){var q=v(4,1);q.addData(text);return q.createImgTag(6)};}();
/* qrcode-generator end */ function gen(){ var u = dgi('url').value.trim(); if(!u){ alert('URL yazın'); return; } dgi('q').innerHTML = QRGen(u);
}
function dl(){ var img = document.querySelector('#q img'); if(!img){ alert('Önce QR üretin'); return; } var a = document.createElement('a'); a.href = img.src; a.download = 'divrigi-qr.png'; a.click();
}
// Autofill via ?u=
(function(){ const p = new URLSearchParams(location.search); const u = p.get('u'); if(u){ dgi('url').value = decodeURIComponent(u); gen(); }
})();
</script></body></html>